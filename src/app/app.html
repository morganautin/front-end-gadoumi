<header class="p-4 border-b flex justify-between items-center">
  <a routerLink="/" class="font-bold text-lg">My Shop</a>

  <nav class="flex gap-3 items-center">
    <a routerLink="/shop/products" class="px-3 py-2 border rounded hover:bg-gray-50">Produits</a>
    <!-- â¤ï¸ Lien vers les favoris avec compteur -->
    <a routerLink="/favorites" class="px-3 py-2 border rounded hover:bg-gray-50 flex items-center gap-1">
      <mat-icon>favorite</mat-icon>
      <span>Favoris</span>
      @if (favoritesCount$ | async; as count) {
        @if(count > 0) { <span class="bg-red-500 text-white rounded-full text-xs px-2 py-0.5">{{ count }}</span> }
      }
    </a>
    <a routerLink="/reviews" class="px-3 py-2 border rounded hover:bg-gray-50">Avis</a>

    <!-- Liens conditionnels basÃ©s sur l'Ã©tat de connexion -->
    @if (isLoggedIn$ | async) {
      <!-- Visible si connectÃ© -->
      <a routerLink="/account/profile" class="px-3 py-2 border rounded hover:bg-gray-50">Mon Compte</a>
      <a routerLink="/account/orders" class="px-3 py-2 border rounded hover:bg-gray-50">Mes Commandes</a>
      <button class="px-3 py-2 border rounded hover:bg-gray-100" (click)="logout()">
        ðŸ”“ DÃ©connexion
      </button>
    } @else {
      <!-- Visible si non connectÃ© -->
      <a routerLink="/login" class="px-3 py-2 border rounded hover:bg-gray-50">Login</a>
    }

    <!-- ðŸ”¹ IcÃ´ne du panier cliquable -->
    <a routerLink="/shop/cart" class="px-3 py-2 border rounded hover:bg-gray-50 flex items-center gap-1 cursor-pointer">
        <app-cart-icon></app-cart-icon>
    </a>
  </nav>
</header>

<main class="p-4">
  <router-outlet></router-outlet>
</main>
